<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel</title>
    <link rel="stylesheet" href="admin.css">
</head>
<body>
   <div id="orders-list"></div>


    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

    <script type="module">
        // Import Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
      
        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDQAGsXMaF7xw2-Edsa82scqqEGGCTAZiQ",
            authDomain: "restaurant-orders-8fd62.firebaseapp.com",
            projectId: "restaurant-orders-8fd62",
            storageBucket: "restaurant-orders-8fd62.firebasestorage.app",
            messagingSenderId: "804671895076",
            appId: "1:804671895076:web:36399f85471dde69520ab1",
            measurementId: "G-88XSSSCFJ7"
          };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);



        
           // import { collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
          
            async function fetchOrders() {
              const ordersCollection = collection(db, "orders"); // Firestore 'orders' collection
              const ordersSnapshot = await getDocs(ordersCollection);
              const ordersList = ordersSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
              
              // Display orders
              displayOrders(ordersList);
            }
          
            function displayOrders(orders) {
              const ordersContainer = document.getElementById("orders-list");
              ordersContainer.innerHTML = " "; // Clear previous orders
          
              orders.forEach(order => {
                const orderDiv = document.createElement("div");
                orderDiv.innerHTML = `
                  <h3>Order ID: ${order.id}</h3>
                  <p>Table Number: ${order.tableNumber}</p>
                  <h4>Items:</h4>
                  <ul>
                    ${order.items?.map(item => `
                    <li>${item.name} - ${item.price} (Qty: ${item.quantity})</li>
                    `).join('')}
                  </ul>
                  <p>Status: ${order.status}</p>
                  <p>Total Amount: ${order.totalAmount}</p>
                `;
                ordersContainer.appendChild(orderDiv);
              });
            }
          
            // Call function to fetch and display orders
            fetchOrders();
          
          
      </script>
      
    <script src="admin.js"></script>
</body>
</html>
